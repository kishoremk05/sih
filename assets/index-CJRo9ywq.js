import{f as p,s as j,j as e,r as c,A as F,m as N,a as k,p as M,R as C,L as T,C as E,X as z,Y as W,T as S,b as D,c as f,d as U,P as Y,e as q,g as J,h as _,i as Q}from"./vendor-BoREn-dQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();var d=(s=>(s.Dashboard="Dashboard",s.Map="Map",s.Analytics="Analytics",s.Alerts="Alerts",s.Devices="Devices",s.Users="Users",s))(d||{}),h=(s=>(s.High="High",s.Medium="Medium",s.Low="Low",s.Resolved="Resolved",s))(h||{}),g=(s=>(s.Online="Online",s.Offline="Offline",s.LowBattery="Low Battery",s))(g||{}),w=(s=>(s.Admin="Admin",s.Operator="Operator",s.Viewer="Viewer",s))(w||{});const b=new Date,ee=[{id:"A001",timestamp:p(j(b,1)),location:{lat:6.8,lng:80.8},severity:h.High,deviceId:"D101"},{id:"A002",timestamp:p(j(b,2)),location:{lat:6.82,lng:80.81},severity:h.Medium,deviceId:"D102"},{id:"A003",timestamp:p(j(b,5)),location:{lat:6.79,lng:80.78},severity:h.Low,deviceId:"D103"},{id:"A004",timestamp:p(j(b,8)),location:{lat:6.81,lng:80.83},severity:h.Resolved,deviceId:"D101"},{id:"A005",timestamp:p(j(b,12)),location:{lat:6.83,lng:80.79},severity:h.Resolved,deviceId:"D104"}],se=[{id:"D101",status:g.Online,battery:89,lastPing:p(j(b,.1)),location:{lat:6.8,lng:80.8}},{id:"D102",status:g.Online,battery:72,lastPing:p(j(b,.2)),location:{lat:6.82,lng:80.81}},{id:"D103",status:g.LowBattery,battery:15,lastPing:p(j(b,1)),location:{lat:6.79,lng:80.78}},{id:"D104",status:g.Offline,battery:55,lastPing:p(j(b,6)),location:{lat:6.83,lng:80.79}},{id:"D105",status:g.Online,battery:95,lastPing:p(j(b,.3)),location:{lat:6.85,lng:80.85}}],te=[{id:"U001",name:"Dr. Aruni Fonseka",role:w.Admin,contact:"aruni@wildlife.gov",status:"Active"},{id:"U002",name:"Ravi Kumar",role:w.Operator,contact:"ravi.k@rangers.gov",status:"Active"},{id:"U003",name:"Saman Perera",role:w.Operator,contact:"saman.p@rangers.gov",status:"Active"},{id:"U004",name:"Jani Silva",role:w.Viewer,contact:"jani.s@research.org",status:"Inactive"}],re=[{name:"Mon",movements:12},{name:"Tue",movements:19},{name:"Wed",movements:15},{name:"Thu",movements:25},{name:"Fri",movements:22},{name:"Sat",movements:30},{name:"Sun",movements:28}],$=[{name:"High",value:15,fill:"#EF4444"},{name:"Medium",value:35,fill:"#F59E0B"},{name:"Low",value:50,fill:"#10B981"}],ae=[{time:"6h ago",lat:6.805,lng:80.805},{time:"5h ago",lat:6.802,lng:80.808},{time:"4h ago",lat:6.798,lng:80.81},{time:"3h ago",lat:6.799,lng:80.815},{time:"2h ago",lat:6.801,lng:80.812},{time:"1h ago",lat:6.8,lng:80.8},{time:"now",lat:6.8,lng:80.8}],ne=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),oe=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 16.382V5.618a1 1 0 00-1.447-.894L15 7m-6 10l6-3m0 0l-6-4m6 4v10"})}),le=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21v-4m4 4v-2m4 2v-6"})}),V=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),ie=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),ce=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 5.197M15 21a6 6 0 00-9-5.197"})}),de=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),xe=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),he=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),K=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),me=({className:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),u=({children:s,className:t=""})=>e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-dark-card border border-dark-border rounded-2xl shadow-lg p-4 sm:p-6 ${t}`,children:s}),m=({children:s})=>e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:s}),ge=()=>e.jsx(C,{width:"100%",height:300,children:e.jsxs(T,{data:re,margin:{top:5,right:20,left:-10,bottom:5},children:[e.jsx(E,{strokeDasharray:"3 3",stroke:"#30363D"}),e.jsx(z,{dataKey:"name",stroke:"#888"}),e.jsx(W,{stroke:"#888"}),e.jsx(S,{contentStyle:{backgroundColor:"#161B22",border:"1px solid #30363D"}}),e.jsx(U,{}),e.jsx(D,{type:"monotone",dataKey:"movements",stroke:"#39FF14",strokeWidth:2,activeDot:{r:8}})]})}),ue=()=>e.jsx(C,{width:"100%",height:300,children:e.jsxs(Y,{children:[e.jsx(q,{data:$,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:$.map((s,t)=>e.jsx(J,{fill:s.fill},`cell-${t}`))}),e.jsx(S,{contentStyle:{backgroundColor:"#161B22",border:"1px solid #30363D"}}),e.jsx(U,{})]})}),I=({devices:s,alerts:t,center:a,zoom:i})=>{const r=c.useRef(null),n=c.useRef(null),l=c.useRef(null);return c.useEffect(()=>{if(r.current&&!n.current){const x=f.map(r.current).setView(a,i);f.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}).addTo(x),l.current=f.layerGroup().addTo(x),n.current=x,setTimeout(()=>x.invalidateSize(),100)}return()=>{n.current&&(n.current.remove(),n.current=null)}},[]),c.useEffect(()=>{n.current&&n.current.setView(a,i)},[a,i]),c.useEffect(()=>{const x=l.current;x&&(x.clearLayers(),s.forEach(o=>{const v=o.status===g.Online?"bg-green-500":o.status===g.LowBattery?"bg-yellow-500":"bg-red-500",y=f.divIcon({html:`
                        <div class="p-1 rounded-full ${v}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                        </div>`,className:"bg-transparent border-0"});f.marker([o.location.lat,o.location.lng],{icon:y}).addTo(x).bindPopup(`<b>Device:</b> ${o.id}<br><b>Battery:</b> ${o.battery}%`)}),t.forEach(o=>{if(o.severity!==h.Resolved){const v=o.severity===h.High?"red":"orange";f.circle([o.location.lat,o.location.lng],{color:v,fillColor:v,fillOpacity:.3,radius:200}).addTo(x).bindPopup(`<b>Alert:</b> ${o.id}<br><b>Severity:</b> ${o.severity}`)}}))},[s,t]),e.jsx("div",{ref:r,className:"h-full w-full"})},O=s=>{switch(s){case h.High:return"bg-red-500/20 text-red-400 border-red-500/30";case h.Medium:return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case h.Low:return"bg-blue-500/20 text-blue-400 border-blue-500/30";case h.Resolved:return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},P=s=>{switch(s){case g.Online:case"Active":return"bg-green-500/20 text-green-400";case g.LowBattery:return"bg-yellow-500/20 text-yellow-400";case g.Offline:case"Inactive":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},pe=({alerts:s})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-border",children:[e.jsx("th",{className:"p-4",children:"Date"}),e.jsx("th",{className:"p-4",children:"Location"}),e.jsx("th",{className:"p-4",children:"Severity"}),e.jsx("th",{className:"p-4",children:"Device ID"}),e.jsx("th",{className:"p-4",children:"Actions"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{className:"border-b border-dark-border hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"p-4",children:k(M(t.timestamp),"MMM d, yyyy HH:mm")}),e.jsx("td",{className:"p-4",children:`${t.location.lat.toFixed(3)}, ${t.location.lng.toFixed(3)}`}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${O(t.severity)}`,children:t.severity})}),e.jsx("td",{className:"p-4",children:t.deviceId}),e.jsx("td",{className:"p-4",children:e.jsx("button",{className:"text-neon-green hover:underline",children:"Acknowledge"})})]},t.id))})]})}),je=({users:s})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-border",children:[e.jsx("th",{className:"p-4",children:"Name"}),e.jsx("th",{className:"p-4",children:"Role"}),e.jsx("th",{className:"p-4",children:"Contact"}),e.jsx("th",{className:"p-4",children:"Status"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{className:"border-b border-dark-border hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"p-4",children:t.name}),e.jsx("td",{className:"p-4",children:t.role}),e.jsx("td",{className:"p-4",children:t.contact}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P(t.status)}`,children:t.status})})]},t.id))})]})}),be=({device:s,onSelect:t})=>{const a=s.battery>60?"text-neon-green":s.battery>20?"text-yellow-400":"text-red-500";return e.jsx("div",{onClick:()=>t(s),className:"cursor-pointer group",children:e.jsxs(u,{className:"transition-all duration-300 group-hover:border-neon-green/50 group-hover:scale-105",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",children:s.id}),e.jsx("span",{className:`text-sm px-2 py-1 rounded-full mt-1 inline-block ${P(s.status)}`,children:s.status})]}),e.jsxs("div",{className:`font-bold text-xl ${a}`,children:[s.battery,"%"]})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[e.jsxs("p",{children:["Last Ping: ",k(M(s.lastPing),"HH:mm:ss")]}),e.jsxs("p",{children:["Location: ",s.location.lat.toFixed(3),", ",s.location.lng.toFixed(3)]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{className:"bg-brand-orange/20 text-brand-orange px-3 py-1 text-sm rounded-md hover:bg-brand-orange/40 transition",children:"Reboot"}),e.jsx("button",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 text-sm rounded-md hover:bg-blue-500/40 transition",children:"Test Alert"})]})]})})},R=({alerts:s,devices:t})=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsx(m,{children:"System Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-neon-green animate-pulse"}),e.jsx("p",{className:"font-semibold text-lg text-neon-green",children:"All Systems Operational"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"All tracking devices are online and reporting data correctly."})]}),e.jsxs(u,{children:[e.jsx(m,{children:"Total Active Devices"}),e.jsx("p",{className:"text-5xl font-bold text-gray-100",children:t.filter(a=>a.status==="Online").length}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[t.length," devices total"]})]}),e.jsxs(u,{className:"md:col-span-2",children:[e.jsx(m,{children:"Recent Alerts"}),e.jsx("ul",{children:s.slice(0,3).map(a=>e.jsxs("li",{className:`p-3 rounded-lg flex items-center justify-between mb-2 ${O(a.severity)}`,children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:a.severity}),e.jsxs("span",{className:"text-sm ml-2",children:["on Device ",a.deviceId]})]}),e.jsx("span",{className:"text-xs",children:k(M(a.timestamp),"p")})]},a.id))})]})]}),e.jsxs(u,{className:"lg:col-span-1 min-h-[300px] flex flex-col",children:[e.jsx(m,{children:"Mini Map"}),e.jsx("div",{className:"flex-grow rounded-lg overflow-hidden",children:e.jsx(I,{devices:t,alerts:[],center:[6.8,80.8],zoom:11})})]})]}),ve=({alerts:s,devices:t})=>e.jsx(u,{className:"h-[calc(100vh-120px)] p-2 flex flex-col",children:e.jsx("div",{className:"flex-grow rounded-2xl overflow-hidden",children:e.jsx(I,{devices:t,alerts:s,center:[6.8,80.8],zoom:12})})}),fe=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"lg:col-span-2",children:[e.jsx(m,{children:"Movements per Day"}),e.jsx(ge,{})]}),e.jsxs(u,{children:[e.jsx(m,{children:"Alert Types Distribution"}),e.jsx(ue,{})]}),e.jsxs(u,{children:[e.jsx(m,{children:"Export Data"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Download reports in your preferred format."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"bg-neon-green text-dark-bg font-bold py-2 px-4 rounded-lg hover:opacity-90 transition",children:"Export as PDF"}),e.jsx("button",{className:"bg-brand-orange text-dark-bg font-bold py-2 px-4 rounded-lg hover:opacity-90 transition",children:"Export as CSV"})]})]})]}),ye=({alerts:s})=>e.jsxs(u,{children:[e.jsx(m,{children:"Alert Log"}),e.jsx(pe,{alerts:s})]}),we=({devices:s,onDeviceSelect:t})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(a=>e.jsx(be,{device:a,onSelect:t},a.id))}),Ne=({users:s})=>e.jsxs(u,{children:[e.jsx(m,{children:"User Management"}),e.jsx(je,{users:s})]}),ke=({activePage:s,setActivePage:t,isSidebarOpen:a,setSidebarOpen:i})=>{const r=[{page:d.Dashboard,icon:ne,label:"Dashboard"},{page:d.Map,icon:oe,label:"Map"},{page:d.Analytics,icon:le,label:"Analytics"},{page:d.Alerts,icon:V,label:"Alerts"},{page:d.Devices,icon:ie,label:"Devices"},{page:d.Users,icon:ce,label:"Users"}],n="flex items-center p-3 my-1 rounded-lg transition-colors duration-200",l="bg-neon-green text-dark-bg font-semibold",x="text-gray-400 hover:bg-dark-border hover:text-gray-100";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 bg-black/50 z-30 lg:hidden transition-opacity ${a?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>i(!1)}),e.jsxs("aside",{className:`fixed lg:relative z-40 lg:z-auto h-full bg-dark-card border-r border-dark-border flex flex-col transition-transform transform ${a?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-100 whitespace-nowrap",children:"ðŸ˜ Elephant Alert"}),e.jsx("button",{onClick:()=>i(!1),className:"lg:hidden text-gray-400 hover:text-white",children:e.jsx(K,{className:"w-6 h-6"})})]}),e.jsx("nav",{className:"flex-1 p-2",children:e.jsx("ul",{children:r.map(o=>e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:v=>{v.preventDefault(),t(o.page),i(!1)},className:`${n} ${s===o.page?l:x}`,children:[e.jsx(o.icon,{className:"w-6 h-6 mr-3"}),e.jsx("span",{children:o.label})]})},o.page))})})]})]})},Me=({onMenuClick:s})=>e.jsxs("header",{className:"bg-dark-card border-b border-dark-border p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:"lg:hidden text-gray-400 hover:text-white",children:e.jsx(he,{className:"w-6 h-6"})}),e.jsxs("div",{className:"relative hidden sm:block",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"bg-dark-bg border border-dark-border rounded-lg pl-10 pr-4 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-neon-green"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"text-gray-400 hover:text-white relative",children:[e.jsx(V,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-dark-card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"https://picsum.photos/seed/user1/40/40",alt:"User",className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"hidden md:inline font-semibold",children:"Kishore"}),e.jsx(xe,{className:"w-5 h-5 text-gray-500"})]})]})]}),Le=({alert:s,onClose:t})=>e.jsx(F,{children:s&&e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:t,children:e.jsxs(N.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-dark-card border-2 border-red-500 rounded-2xl shadow-2xl w-full max-w-md p-6 text-center",onClick:a=>a.stopPropagation(),children:[e.jsx(me,{className:"w-16 h-16 text-red-500 mx-auto animate-pulse"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400 mt-4",children:"High Severity Alert!"}),e.jsxs("p",{className:"text-gray-300 mt-2",children:["Device ",e.jsx("span",{className:"font-bold",children:s.deviceId})," has triggered a high severity alert."]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Location: ",s.location.lat.toFixed(4),", ",s.location.lng.toFixed(4)]}),e.jsx("button",{onClick:t,className:"mt-6 bg-red-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-600 transition-colors",children:"Acknowledge"})]})})}),Ae=({device:s,alerts:t,onClose:a})=>{const i=s.battery>60?"text-neon-green":s.battery>20?"text-yellow-400":"text-red-500";return e.jsx(F,{children:e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:a,children:e.jsxs(N.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-dark-card border border-dark-border rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative",onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors z-10",children:e.jsx(K,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-100 mr-4",children:["Device ",s.id]}),e.jsx("span",{className:`text-sm px-3 py-1 font-semibold rounded-full ${P(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Details"}),e.jsxs("div",{className:"space-y-3 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Battery:"})," ",e.jsxs("span",{className:`font-bold ${i}`,children:[s.battery,"%"]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Ping:"})," ",k(M(s.lastPing),"MMM d, yyyy HH:mm:ss")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",`${s.location.lat.toFixed(4)}, ${s.location.lng.toFixed(4)}`]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(m,{children:"Associated Alerts"}),e.jsx("div",{className:"max-h-32 overflow-y-auto pr-2",children:t.length>0?t.map(r=>e.jsxs("div",{className:`p-2 rounded-lg mb-2 text-sm ${O(r.severity)}`,children:[e.jsxs("strong",{children:[r.severity,":"]})," ",k(M(r.timestamp),"MMM d, HH:mm")]},r.id)):e.jsx("p",{className:"text-sm text-gray-500",children:"No alerts for this device."})})]})]}),e.jsx("div",{className:"min-h-[200px] rounded-lg overflow-hidden",children:e.jsx(I,{devices:[s],alerts:[],center:[s.location.lat,s.location.lng],zoom:14},s.id)})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(m,{children:"Historical Movement (Placeholder)"}),e.jsx(C,{width:"100%",height:150,children:e.jsxs(T,{data:ae,margin:{top:5,right:20,left:-10,bottom:5},children:[e.jsx(E,{strokeDasharray:"3 3",stroke:"#30363D"}),e.jsx(z,{dataKey:"time",stroke:"#888",fontSize:12}),e.jsx(W,{stroke:"#888",domain:["dataMin - 0.005","dataMax + 0.005"],fontSize:12}),e.jsx(S,{contentStyle:{backgroundColor:"#161B22",border:"1px solid #30363D"}}),e.jsx(D,{type:"monotone",dataKey:"lat",stroke:"#39FF14",strokeWidth:2,dot:!1,name:"Latitude"}),e.jsx(D,{type:"monotone",dataKey:"lng",stroke:"#FF7A00",strokeWidth:2,dot:!1,name:"Longitude"})]})})]})]})})})},De=()=>{const[s,t]=c.useState(d.Dashboard),[a,i]=c.useState(!1),[r,n]=c.useState(ee),[l]=c.useState(se),[x]=c.useState(te),[o,v]=c.useState(null),[y,B]=c.useState(null);c.useEffect(()=>{const L=setInterval(()=>{if(Math.random()>.9){const A=l[Math.floor(Math.random()*l.length)],H={id:`A${Math.floor(Math.random()*1e3)}`,timestamp:new Date().toISOString(),location:{lat:A.location.lat+(Math.random()-.5)*.01,lng:A.location.lng+(Math.random()-.5)*.01},severity:h.High,deviceId:A.id};n(X=>[H,...X]),v(H)}},15e3);return()=>clearInterval(L)},[l]);const Z=()=>{switch(s){case d.Dashboard:return e.jsx(R,{alerts:r,devices:l});case d.Map:return e.jsx(ve,{alerts:r,devices:l});case d.Analytics:return e.jsx(fe,{});case d.Alerts:return e.jsx(ye,{alerts:r});case d.Devices:return e.jsx(we,{devices:l,onDeviceSelect:B});case d.Users:return e.jsx(Ne,{users:x});default:return e.jsx(R,{alerts:r,devices:l})}};return e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(ke,{activePage:s,setActivePage:t,isSidebarOpen:a,setSidebarOpen:i}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(Me,{onMenuClick:()=>i(!0)}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:Z()})]}),o&&e.jsx(Le,{alert:o,onClose:()=>v(null)}),y&&e.jsx(Ae,{device:y,alerts:r.filter(L=>L.deviceId===y.id),onClose:()=>B(null)})]})},G=document.getElementById("root");if(!G)throw new Error("Could not find root element to mount to");const Ce=_.createRoot(G);Ce.render(e.jsx(Q.StrictMode,{children:e.jsx(De,{})}));
